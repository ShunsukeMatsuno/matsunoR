% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/intervals.R
\name{create_partition}
\alias{create_partition}
\title{Create a partition of the real line}
\usage{
intervals <- list(c(-Inf, 1), c(1, 2), c(2, Inf))
create_partition(intervals)
}
\arguments{
\item{intervals}{List of intervals, where each interval is a vector of 2 numbers.
Each interval is of the form [a, b) where a is included and b is excluded,
except for the last interval if it ends with Inf.}
}
\value{
A partition object with class "partition" containing the sorted intervals.
}
\description{
This function creates a partition of the real line by dividing it into non-overlapping intervals.
The intervals must be contiguous (no holes) and non-overlapping.
}
\details{
The function performs several validations:
\itemize{
  \item Checks that intervals is a non-empty list
  \item Validates that each interval is a numeric vector of length 2
  \item Ensures the first element of each interval is less than the second
  \item Sorts intervals by their lower bounds
  \item Checks for overlaps between adjacent intervals
  \item Checks for holes between adjacent intervals
}
}
\examples{
# Example 1: Simple partition (-∞, 1), [1, 2], [2, ∞)
partition <- create_partition(list(
  c(-Inf, 1),
  c(1, 2),
  c(2, Inf)
))

# Test get_interval
print(get_interval(0.5, partition))  # list(index = 1, interval = c(-Inf, 1))
print(get_interval(1.5, partition))  # list(index = 2, interval = c(1, 2))
print(get_interval(2.5, partition))  # list(index = 3, interval = c(2, Inf))


# Example 2: Error for overlapping intervals
create_partition(list(
  c(-1, 1),
  c(0.5, 2),  # Overlaps with the first interval
  c(2, Inf)
))

# Example 3: Error for intervals with holes
create_partition(list(
  c(-1, 1),
  c(1.5, 2),  # Has a hole between 1 and 1.5
  c(2, Inf)
))
}
